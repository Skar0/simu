\documentclass[10pt,a4paper]{article}
\usepackage[top = 1.6cm, left = 3cm, right = 3cm ]{geometry}
\usepackage[utf8]{inputenc}
\usepackage[francais]{babel}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{float}
\usepackage{longtable}
\usepackage{hyperref}
\begin{document}
\begin{titlepage}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Defines a new command for the horizontal lines, change thickness here

\center % Center everything on the page
 
%----------------------------------------------------------------------------------------
%	HEADING SECTIONS
%----------------------------------------------------------------------------------------

\textsc{\LARGE Université de Mons}\\[1.5cm] % Name of your university/college
\textsc{\Large Simulation sur ordinateur }\\[0.5cm] % Major heading such as course name

%----------------------------------------------------------------------------------------
%	TITLE SECTION
%----------------------------------------------------------------------------------------

\HRule \\[0.4cm]
{ \huge \bfseries Etude du caractère aléatoire des décimales de $\pi$}\\[0.4cm] % Title of your document
\HRule \\[1.5cm]
 
%----------------------------------------------------------------------------------------
%	AUTHOR SECTION
%----------------------------------------------------------------------------------------

\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{Auteurs :}\\
Florent Delgrange \\
Clément Tamines
\end{flushleft}
\end{minipage}
~
\begin{minipage}{0.4\textwidth}
\begin{flushright} \large
\emph{Professeur:} \\
Dr. Alain Buys
\end{flushright}
\end{minipage}\\[4cm]

% If you don't want a supervisor, uncomment the two lines below and remove the section above
%\Large \emph{Author:}\\
%John \textsc{Smith}\\[3cm] % Your name

%----------------------------------------------------------------------------------------
%	DATE SECTION
%----------------------------------------------------------------------------------------

{\large 02 juin 2016}\\[3cm] % Date, change the \today to a set date if you want to be precise

%----------------------------------------------------------------------------------------
%	LOGO SECTION
%----------------------------------------------------------------------------------------

%\includegraphics{Logo}\\[1cm] % Include a department/university logo - this will require the graphicx package
 
%----------------------------------------------------------------------------------------

\vfill % Fill the rest of the page with whitespace

\end{titlepage}

\newpage
\tableofcontents
\newpage

\section{Introduction}
	Le but de ce projet est de montrer le caractère pseudo-aléatoire des décimales de $\pi$. Nous allons montrer dans ce rapport que les 
décimales de $\pi$ suivent une distribution uniforme. Nous étudierons ce caractère pseudo-aléatoire via les tests vu au cours. Nous
créerons ensuite un générateur de nombres pseudo-aléatoire grâce aux décimales de $\pi$ fournies. Enfin, nous comparerons ce générateur
avec le générateur intégré à Python.

\section{Tests sur les décimales de $\pi$}

Nous allons maintenant étudier le caractère pseudo-aléatoire de $\pi$ grâce à plusieurs tests statistiques vus au cours. \`A l'aide de séquences générées à partir de lois uniformes, nous pourrons montrer le caractère pseudo-aléatoire des décimales à conditions que celles-ci aient les mêmes propriétés que les séquences.

\subsection{Test de Khi2}
Le test de $\chi^2$ va nous permettre de tester l'adéquation des décimales de pi avec les familles de lois de probabilités que nous allons traiter par la suite. Pour se faire, on génère des séquences théoriques selon la loi de probabilité et on les réparti ainsi que les décimales de $\pi$ en classes. Les effectifs de chaque classe sont comparés aux effectifs théoriques au moyen de la formule ci-dessous :
\[ K = \displaystyle\sum_{i=1}^n (\frac{n_i-Np_i}{\sqrt{Np_i}})^2\]
où $n_i$ est l'effectif observé de la classe $i$ et $Np_i$, l'effectif théorique (loi uniforme) de la classe $i$. On soumet le test à une probabilité $\alpha$ de rejeter l'hypothèse nulle $H_0$. Celle-ci est acceptée si $K \leq \chi_x^2$ où $x$ est le degré de liberté. \\Celui-ci s'obtient facilement : $x$ = nombre de classes - 1. \\

Soit $H_0$ = \{\textit{ les décimales de $\pi$ suivent une loi uniforme }\}, considérons une classe par chiffre, on a donc que le degré de liberté est $x = 10 - 1 = 9 $. On considère donc que l'effectif d'une classe est le nombre d'occurrence de ce même digit parmi les $1e6$ décimales présentes dans le fichier fourni. L'effectif théorique que l'on choisit est simplement une moyenne pour chaque classe.
\begin{figure}[h!]
\makebox[\textwidth][c]{\includegraphics[width=0.7\textwidth]{khi2_histopi.png}}
\caption{Occurrence des digits de pi}
\label{khi2histo}
\end{figure}

\begin{figure}[H]
\begin{center}
\begin{longtable}{|c|c|c|}
\hline
r & eff. observé & eff. théorique\\
\hline
1 & 99959 & 10000\\
2 & 99758 & 10000\\
3 & 100026 & 10000\\
4 & 100229 & 10000\\
5 & 100230 & 10000\\
6 & 100359 & 10000\\
7 & 99548 & 10000\\
8 & 99800 & 10000\\
9 & 99985 & 10000\\
10 & 100106 & 10000\\
\hline
\end{longtable}
\end{center}
\caption{Tableau des effectifs pour chaque classe.}
\end{figure}
\begin{figure}[H]
\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
$\alpha$ & $K_{n}$ & $\chi^2_{9, 1 - \alpha}$ & Résultat\\
\hline
0.001 & 5.50908 & 27.8771648713 & True\\
0.025 & 5.50908 & 19.0227677986 & True\\
0.05 & 5.50908 & 16.9189776046 & True\\
0.1 & 5.50908 & 14.6836565733 & True\\
\hline
\end{tabular}
\end{center}
\caption{Résultat du test de $\chi^2$}
\label{result1}
\end{figure}

Les résultats obtenus nous indiquent que le test de $\chi^2$ est réussi pour tous les $\alpha$ choisis (voir figure \ref{result1}).
\subsection{Test du gap}

\begin{figure}[H]
\makebox[\textwidth][c]{\includegraphics[width=1\textwidth]{gap_histopi.png}}
\caption{Longueur du gap pour 5}
\label{khi2histo}
\end{figure}

%---------------------------------------------------------------------
% GAP TEST
%---------------------------------------------------------------------

\begin{figure}[H]
\begin{center}
\begin{longtable}{|c|c|c|}
\hline
longueur du gap & eff. observé & eff. théorique \\
\hline
0 & 10232 & 10035.9\\
1 & 8957 & 9032.31\\
2 & 8091 & 8129.079\\
3 & 7301 & 7316.1711\\
4 & 6586 & 6584.55399\\
5 & 5943 & 5926.098591\\
6 & 5392 & 5333.4887319\\
7 & 4758 & 4800.13985871\\
8 & 4364 & 4320.12587284\\
9 & 4003 & 3888.11328556\\
10 & 3530 & 3499.301957\\
$\vdots$ & $\vdots$ & $\vdots$ \\ 
30 & 417 & 425.433425334\\
31 & 357 & 382.890082801\\
32 & 314 & 344.601074521\\
33 & 304 & 310.140967069\\
34 & 286 & 279.126870362\\
35 & 260 & 251.214183326\\
$\vdots$ & $\vdots$ & $\vdots$ \\ 
55 & 36 & 30.5417799944\\
56 & 29 & 27.487601995\\
57 & 28 & 24.7388417955\\
58 & 26 & 22.2649576159\\
59 & 31 & 20.0384618543\\
60 & 9 & 18.0346156689\\
$\vdots$ & $\vdots$ & $\vdots$ \\ 
79 & 2 & 2.43620915539\\
80 & 2 & 2.19258823985\\
81 & 1 & 2.19258823985\\
82 & 0 & 2.19258823985\\
83 & 1 & 2.19258823985\\
84 & 2 & 2.19258823985\\
85 & 2 & 2.19258823985\\
$\vdots$ & $\vdots$ & $\vdots$ \\ 
106 & 1 & 2.19258823985\\
\hline
\end{longtable}
\end{center}
\caption{Tableau des effectifs pour chaque classe.}
\end{figure}
\begin{figure}[H]
\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
$\alpha$ & $K_n$ & $\chi^2$ & Résultat\\
\hline
0.001 & 98.6640480349 & 156.740261033 & True\\
0.025 & 98.6640480349 & 136.382163482 & True\\
0.05 & 98.6640480349 & 131.03145825 & True\\
0.1 & 98.6640480349 & 125.035359232 & True\\
\hline
\end{tabular}
\end{center}
\caption{Résultat du test de $\chi^2$}
\end{figure} 

\subsection{Test du poker}
\subsubsection*{Principe}
Nous allons d'abord transformer les $1 000 000$ de décimales de $\pi$ en $200 000$ nombres de $5$ chiffres. Pour ce faire, nous 
avancons simplement dans le fichier des décimales de $\pi$ en créant un nombre à $5$ chiffres séquenciellement.
Nous allons ensuite compter le nombre de chiffres différents contenus dans ces nombres, ce qui nous donnera nos classes de la manière
suivante : \\
\begin{itemize}
\item Tous les chiffres sont différents
\item Deux chiffres sont identiques
\item Trois chiffres sont identiques
\item Quatre chiffres sont identiques
\item Tous les chiffres sont identiques
\end{itemize}

Nous connaissons la formule qui nous permet de calculer la probabilité que le nombre soit dans chaque classe.\\

Nous allons donc compter le nombre d'échantillons dans chaque classe et le comparer avec le nombre théorique via un test de Khi2.


\subsection{Test du collectionneur de coupons}

\section{Générateur de nombres pseudo-aléatoire}

\end{document}
